/**
 * @param {number} n
 * @param {number} delay
 * @param {number} forget
 * @return {number}
 */
var peopleAwareOfSecret = function(n, delay, forget) {
    /* 
        Consider an array of size forget where indexes represent number of days left before forgetting
        Start with one person on the first index (has 'forget' # of days left before forgetting)
        Array is also partitioned along the delay index - left half are in delay, right half can add
        Right half adds elements, rightmost gets cleared and set to added elements
        Each day, the array rotates

        After n days, calculate sum of right half

        O(n) for n days, O(n) for each day --> O(n^2)
        Space: O(n) for forget = n days
    */

    const array = Array(forget).fill(0);
    array[0] = 1;

    for(let i=1; i<n; i++) { //n days
        array.pop(); //these people have now forgotten
        let newPeople = 0;
        for(let j=delay - 1; j<array.length; j++) {
            newPeople += array[j];
        }

        array.unshift(newPeople % (1e9 + 7)); //new people added
        // console.log(array);
    }

    const totalPeople = array.reduce((acc, curr) => acc + curr, 0);
    console.log(totalPeople);
    return totalPeople % (1e9 + 7);


    /* Brute force
        Keep track of list of peoples using array [delay, forget] to track for each person

        For each day
            For each person
                if delay > 0
                    decrement delay, move on
                else
                    create new person with delay, forget
                    
                decrement current person's forget

        Time - O(n)
        Space - O(2^n)
    */
};
